<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Trail Map</title>
    
    <!-- Leaflet CSS -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/leaflet.css" />
    
    <style>
        body {
            margin: 0;
            padding: 0;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        #map {
            height: 100vh;
            width: 100%;
        }
        
        .custom-popup {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        .custom-popup h3 {
            margin: 0 0 8px 0;
            color: #ff6b35;
            font-size: 14px;
        }
        
        .custom-popup p {
            margin: 4px 0;
            font-size: 12px;
            color: #333;
        }
        
        .obstruction-icon {
            background: #ff6b35;
            border: 2px solid white;
            border-radius: 50%;
            width: 16px;
            height: 16px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 10px;
            font-weight: bold;
        }
    </style>
</head>
<body>
    <div id="map"></div>

    <!-- Leaflet JavaScript -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/leaflet.js"></script>
    
    <script>
        // Initialize the map centered on Blowing Springs
        const map = L.map('map').setView([36.4734, -94.1389], 15);

        // Add OpenStreetMap tile layer
        L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
            attribution: '© OpenStreetMap contributors',
            maxZoom: 19
        }).addTo(map);

        // Sample trail coordinates for Mad Hatter - Lower
        const trailCoordinates = [
            [36.4744, -94.1399],
            [36.4741, -94.1395],
            [36.4738, -94.1391],
            [36.4735, -94.1387],
            [36.4732, -94.1383],
            [36.4729, -94.1379],
            [36.4726, -94.1375],
            [36.4723, -94.1371],
            [36.4720, -94.1367]
        ];

        // Create trail path
        const trailPath = L.polyline(trailCoordinates, {
            color: '#ff6b35',
            weight: 4,
            opacity: 0.8
        }).addTo(map);

        // Create custom icons
        const startIcon = L.divIcon({
            className: 'trail-marker',
            html: '<div style="background: #4CAF50; color: white; border-radius: 50%; width: 24px; height: 24px; display: flex; align-items: center; justify-content: center; font-weight: bold; border: 2px solid white; font-size: 12px;">S</div>',
            iconSize: [24, 24],
            iconAnchor: [12, 12]
        });

        const endIcon = L.divIcon({
            className: 'trail-marker',
            html: '<div style="background: #f44336; color: white; border-radius: 50%; width: 24px; height: 24px; display: flex; align-items: center; justify-content: center; font-weight: bold; border: 2px solid white; font-size: 12px;">E</div>',
            iconSize: [24, 24],
            iconAnchor: [12, 12]
        });

        const obstructionIcon = L.divIcon({
            className: 'obstruction-marker',
            html: '<div style="background: #ff6b35; border: 2px solid white; border-radius: 50%; width: 20px; height: 20px; display: flex; align-items: center; justify-content: center; color: white; font-size: 12px; font-weight: bold;">!</div>',
            iconSize: [20, 20],
            iconAnchor: [10, 10]
        });

        // Add start and end markers
        L.marker(trailCoordinates[0], { icon: startIcon })
            .addTo(map)
            .bindPopup('<div><h3>Trail Start</h3><p>Mad Hatter - Lower</p></div>');

        L.marker(trailCoordinates[trailCoordinates.length - 1], { icon: endIcon })
            .addTo(map)
            .bindPopup('<div><h3>Trail End</h3><p>Mad Hatter - Lower</p></div>');

        // Add sample obstruction
        L.marker([36.4735, -94.1387], { icon: obstructionIcon })
            .addTo(map)
            .bindPopup('<div><h3>⚠ Fallen tree/branch</h3><p><strong>Reported:</strong> 7/20/2025</p><p>Large branch blocking trail</p></div>');

        // Fit map to show the entire trail
        map.fitBounds(trailPath.getBounds(), { padding: [20, 20] });
    </script>
</body>
</html>
